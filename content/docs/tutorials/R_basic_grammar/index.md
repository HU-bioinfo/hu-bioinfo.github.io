---
title: "R Basic Grammar"
weight: 1
# bookFlatSection: false
# bookToc: true
# bookHidden: false
# bookCollapseSection: false
# bookComments: false
# bookSearchExclude: false
---

# Rの基本文法

## プログラミング言語
コンピュータは字のごとく，計算をしてくれる便利な機械です．極端な話，代入と四則演算，制御構文さえあれば，理論上はどんな計算でもできるらしいです．そして，便利な計算は他の誰かがすでに作ってくれてます．(著作権とか権利の問題はあるけどな)

てなわけで，こいつらをうまく組み合わせてやればいいんです．俺らがやる程度のプログラミングつったってやることはそんなとこ．

## 変数と代入，そして型
代入なんて，これまでの数学の勉強で耳にタコができるほど聞いてきたと思います．適当な変数に適当な値を入れるあれです．Rでは`x <- 10`みたいに書きます．これで変数`x`に10が代入されたことを意味します．`x + 20`は30ですね．

代入する時，変数名は自由につけることができます．原則として，代入するものがなんなのか明示的に命名するのが大事です．例えば，BMIを計算するプログラムを書いているとすると，体重60kgを変数`body_weight`に代入するのは`body_weight <- 60`と書くようにします．適切な名前を考えるのはプログラミングをする上で肝中の肝です．

別に`x`に代入するのは整数じゃなくても小数でも，文字列でも，なんでもありです．とはいえなんでもって言われても困るので，そのなんでもについてもう少し詳しく教えます．

## 型
`変数になんでも入れていい`における`なんでも`とは型といいます．型とは数学における集合のことです．例えば，実数の集合だったり，小数点の集合だったりします．なぜ型なんて言い方をするかというと，コンピュータ独特の都合があります．コンピュータの計算資源には限りがあります．いくら実数の集合と言ったって無限に続く数字を扱うのは無理ですよね，コンピュータのストレージに限界が来てしまいます．無限に大きい数字を扱わなくても，コンピュータは2進数で計算をしているというのは聞いたことがあると思います．3.14でも0.45でも，ある小数を2進数で表そうとすると，結構な確率で無限に続く小数になってしまいます．そんなわけで，その時々の計算に適した実数の集合(例えば，0から255までという限界を定めた実数の集合)や，小数の集合を型として扱い，計算していきます．また，違う型どうしの計算も面倒臭いです．文字列という型と実数の型の足し算を求めてくださいと言われても困ってしまいます．ある型同士の計算には，それに適した計算，演算が定義されています．

要するに似た性質を持つもの，振る舞いが決まっているものの集合を型とよび，これらを意識してコードを書いていくことになります．自分で型を定義することもできますが，基本となる型を組み合わせることが多く，そもそも自作しなくても，出来合いのものを使うのがいいと思います．てなわけで基本的な型を紹介していきます．

## Rにおける具体的な型と演算子
Rは便利なプログラミング言語なので，型といっても厳密なものではなく，ざっくりとした直感的にわかりやすいものになっています．

また，ある型には，それぞれ演算が定義されていると説明しましたが，そのような演算を示す演算子というものがあります．そんな難しいものではなく，足し算という演算における演算子は`+`です．

### Numeric(数値)型
数値を表す型です．こいつら同士は四則演算ができたりと，皆さんが想像する実数の集合そのものです．実は，さらにinteger(整数)型とdouble(倍精度浮動小数点, 要するに小数)型に分けることができますが別に無視でもいいです．

この型に定義されている演算は以下のとおりです．ちなみに，この演算子らを算術演算子といいます．(覚えなくていいです)

|  演算子  | 意味                        | コード例 | 結果 | 
| -------- | --------------------------- | -------- | ---- | 
| `+`      | 和                          | 3 + 6    | 9    | 
| `-`      | 差                          | 4 - 1    | 3    | 
| `*`      | 積                          | 19 * 8   | 152  | 
| `/`      | 商                          | 9 / 2    | 4.5  | 
| `%/%`    | 整数商 (あまりを無視した商) | 9 %/% 2  | 4    | 
| `%%`     | 剰余 (余り)                 | 9 %% 2   | 1    | 
| `^`      | 累乗                        | 2^4      | 16   | 

### Logical(bool, 論理)型
`TRUE`,`FALSE`の二つだけからなる型です．こいつらには論理演算が定義されてます．論理演算って`かつ`とか`または`とかいうやつです．

| 演算子         | 意味     | 説明                       | コード例                 | 結果  | 
| -------------- | -------- | -------------------------- | ------------------------ | ----- | 
|  &#124;        | 論理和   | どちらか一方がTRUEならTRUE | TRUE &#124; FALSE        | TRUE  | 
|  &#124;&#124;  | 論理和   | どちらか一方がTRUEならTRUE | FALSE &#124;&#124; FALSE | FALSE | 
| `&`            | 論理積   | 両方ともTRUEならTRUE       | FALSE & TRUE             | FALSE | 
| `&&`           | 論理積   | 両方ともTRUEならTRUE       | TRUE && TRUE             | TRUE  | 
| `!`            | 論理否定 | 逆を返す                   | !TRUE                    | FALSE | 

### Character(String, 文字列)型
文字列です．Rでは`"`で囲んだら文字列です．

### Function(関数)型
詳しくは後述しますが，関数を表した型です．

他にも様々な型がありますが，一旦これくらいにしておきます．

## データ構造
これまで型という，値一つ一つが，どの集合に属するかといった話をしてきました．次にデータ構造についてお話しします．値をどのような形式で保管するか，コンピュータ上でデータを扱いやすくするため一定の形式で収納されたデータの構造体のことをデータ構造といいます．何のこっちゃといった感じだと思いますが，実はプログラミングをする上でトップクラスに大事なところです．じっくり勉強しましょう．

### Vector(ベクター)
最も基本的かつ，最重要なデータ構造です．同じ型の値が一つ以上格納されているデータ構造です．要するに，同じ型の値を一列に並べたものです．

以下の例は変数`vec`に10,20,30,40,50という値たちを収納したvectorを代入している例です．
```R
vec <- c(10, 20, 30, 40, 50)
```

vectorに収められた，このの値一つ一つにアクセスするには`vec[1]`のように，前から何個目かを書く必要があります．
```R
vec[3] == 30
#> TRUE
```

### dataframe(データフレーム)
データ解析でよく見るデータ構造です．早い話が，Excelのように表形式になったデータフレームです．縦の列がベクターとなっている(同じ型)こと，全ての列の値の個数が同じであることが特徴です．


## 制御構文

## アルゴリズム

## 関数

## ライブラリ

## プログラミングパラダイム


